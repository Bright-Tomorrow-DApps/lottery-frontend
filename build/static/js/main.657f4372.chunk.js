(this["webpackJsonpreact-client"]=this["webpackJsonpreact-client"]||[]).push([[0],{270:function(e,t,n){"use strict";(function(e){var r=n(10),c=n(2),o=n.n(c),a=n(8),s=n(7),i=n(1),u=n.n(i),l=n(519),f=n(516),b=n(517),p=n(178),d=n(177),j=(n(307),n(26)),h=n(513),g=n(518),x=n(179),w=(n(30),n(368),n(273)),O=n.n(w),m=n(520),v=n(521),y=n(522),k=n(523),S=n(524),C=n(511),P=n(512),A=n(285),F=n(131),B=(n(43),n(4));n(373);var L="6f5rui9XC6MufttQVqLN8ukzd4wXzreJATEBFxgcJ6Ui",T=function e(t,n){Object(s.a)(this,e),this.random=0,this.counter=0,this.counter=t,this.random=n},E=new Map([[T,{kind:"struct",fields:[["counter","u32"],["random","u32"]]}]]),I=function e(t){Object(s.a)(this,e),this.counter=0,this.counter=t},M=new Map([[I,{kind:"struct",fields:[["counter","u32"]]}]]),K=F.serialize(E,new T).length,z=null,V=function(){var e=Object(a.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="https://api.devnet.solana.com",z=new j.Connection(t,"confirmed"),e.next=4,z.getVersion();case 4:n=e.sent,console.log("Connection to cluster established:",t,n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(a.a)(o.a.mark((function e(t){var n,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=0,e.next=3,z.getBalance(t);case 3:if(!((r=e.sent)<n)){e.next=13;break}return e.next=7,z.requestAirdrop(t,n-r);case 7:return c=e.sent,e.next=10,z.confirmTransaction(c);case 10:return e.next=12,z.getBalance(t);case 12:r=e.sent;case 13:console.log("Using account",t.toBase58(),"containing",r/j.LAMPORTS_PER_SOL,"SOL to pay for fees");case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){var e=Object(a.a)(o.a.mark((function e(t,n){var r,c,a,s,i,u,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("get payer public key ".concat(t)),r=new j.PublicKey(L),e.next=4,z.getAccountInfo(r);case 4:if(null!==(c=e.sent)){e.next=9;break}throw new Error("Program get fail");case 9:if(c.executable){e.next=11;break}throw new Error("Program is not executable");case 11:return console.log("Using program ".concat(r.toBase58())),a="hello",e.next=15,j.PublicKey.createWithSeed(t,a,r);case 15:return s=e.sent,e.next=18,z.getAccountInfo(s);case 18:if(null!==e.sent){e.next=30;break}return console.log("Creating account",s.toBase58()),e.next=23,z.getMinimumBalanceForRentExemption(K);case 23:return i=e.sent,u=(new j.Transaction).add(j.SystemProgram.createAccountWithSeed({fromPubkey:t,basePubkey:t,seed:a,newAccountPubkey:s,lamports:i,space:K,programId:r})),e.next=27,n(u,z);case 27:return l=e.sent,e.next=30,z.confirmTransaction(l,"processed");case 30:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),R=function(){var e=Object(a.a)(o.a.mark((function e(t,n,r){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.PublicKey.createWithSeed(n,t,r);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}();function U(e,t){return Math.floor(Math.random()*(t-e+1))+e}var W=function(t){var n=t.showLottery,r=t.lotteryContent,c=Object(p.b)().connection,s=Object(d.b)(),u=s.publicKey,l=s.sendTransaction;Object(i.useCallback)(Object(a.a)(o.a.mark((function t(){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u){t.next=2;break}return t.abrupt("return");case 2:return console.log("- \u53d6\u5f97payer public key: ".concat(u)),console.log("- \u9023\u63a5\u93c8\u4e2d..."),t.next=6,V();case 6:return console.log("- \u53d6\u5f97\u652f\u4ed8\u624b\u7e8c\u8cbb\u4f7f\u7528\u8005\u8cc7\u8a0a..."),t.next=9,D(u);case 9:return console.log("- \u6aa2\u67e5program..."),t.next=12,J(u,l);case 12:setTimeout(Object(a.a)(o.a.mark((function t(){var n,r,a,s,i,f,b,p;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=new j.PublicKey(L),t.next=3,R("hello",u,n);case 3:return r=t.sent,a=new I(1e3),s=F.serialize(M,a),i=new j.PublicKey("HZGjXArakPuCFmxC9ajuDgwgY6vLY269jYoQF4z311jD"),console.log("yorklog0",i.toString()),console.log("yorklog",j.SYSVAR_RENT_PUBKEY.toString()),f=new j.TransactionInstruction({keys:[{pubkey:r,isSigner:!1,isWritable:!0},{pubkey:i,isSigner:!1,isWritable:!0}],programId:n,data:e.from(s)}),b=(new j.Transaction).add(f),t.next=13,l(b,c);case 13:return p=t.sent,t.next=16,c.confirmTransaction(p,"processed");case 16:return t.next=18,N(u);case 18:case"end":return t.stop()}}),t)}))),2e3);case 13:case"end":return t.stop()}}),t)}))),[u,l,c]);return n?Object(B.jsx)("div",{children:Object(B.jsx)(O.a,{onInit:function(e){var t;e.typeString(Y("Solana Program \u904b\u884c\u4e2d...")).pauseFor(1500).deleteAll().typeString(Y("\u62bd\u734e\u7d50\u679c\u662f...")).pauseFor(1500).deleteAll().typeString(Y("".concat((t=r,t[U(0,t.length-1)]),"!"))).callFunction((function(){console.log("All strings were deleted")})).start()}})}):Object(B.jsx)("div",{})},Y=function(e,t){var n=["#8ECAE6","#219EBC","#023047","#FFB703","#FB8500"];return t||(t=n[U(0,n.length-1)]),console.log("yorkaqwe",t),'<span style="color: '.concat(t,'; font-size: 7vw">').concat(e,"</span>")},N=function(){var e=Object(a.a)(o.a.mark((function e(t){var n,r,c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new j.PublicKey(L),e.next=3,R("hello",t,n);case 3:return r=e.sent,e.next=6,z.getAccountInfo(r);case 6:if(null!==(c=e.sent)){e.next=9;break}throw new Error("Error: cannot find the greeted account");case 9:return a=F.deserialize(E,T,c.data),console.log(r.toBase58(),"time(s):",a.counter,"random:",a.random),e.abrupt("return",a.random);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var _=function(e){var t=e.setValue;return Object(B.jsx)(l.a,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"70ch"}},noValidate:!0,autoComplete:"off",children:Object(B.jsx)("div",{children:Object(B.jsx)(f.a,{id:"filled-multiline-static",multiline:!0,rows:6,variant:"filled",onChange:function(e){t(JSON.parse(e.target.value))}})})})},q=function(e){var t=e.showLottery,n=e.setShowLottery,r=e.setLotteryContent,c=Object(i.useCallback)((function(){n(!0)}));return console.log("yorkfghuio",r),t?Object(B.jsx)("div",{}):Object(B.jsxs)("div",{children:[Object(B.jsx)(_,{setValue:r}),Object(B.jsx)(b.a,{variant:"contained",onClick:c,children:"\u9032\u884c\u62bd\u7c64"})]})};t.a=function(){var e=x.b.Devnet,t=Object(i.useMemo)((function(){return Object(j.clusterApiUrl)(e)}),[e]),n=Object(i.useMemo)((function(){return[Object(m.a)(),Object(v.a)(),Object(y.a)(),Object(k.a)({options:{clientId:"Get a client ID @ https://developer.tor.us"}}),Object(S.a)(),Object(C.a)({network:e}),Object(P.a)({network:e})]}),[e]),c=u.a.useState("Controlled"),o=Object(r.a)(c,2),a=(o[0],o[1],u.a.useState(!1)),s=Object(r.a)(a,2),l=s[0],f=s[1],b=u.a.useState(""),p=Object(r.a)(b,2),d=p[0],w=p[1];return Object(B.jsx)(h.a,{endpoint:t,children:Object(B.jsx)(g.a,{wallets:n,autoConnect:!0,children:Object(B.jsxs)(A.a,{children:[Object(B.jsx)(W,{showLottery:l,lotteryContent:d}),Object(B.jsx)(q,{showLottery:l,setShowLottery:f,setLotteryContent:w})]})})})}}).call(this,n(6).Buffer)},303:function(e,t,n){},304:function(e,t,n){},324:function(e,t){},325:function(e,t){},348:function(e,t){},349:function(e,t){},369:function(e,t){},371:function(e,t){},376:function(e,t){},378:function(e,t){},388:function(e,t){},390:function(e,t){},421:function(e,t){},423:function(e,t){},430:function(e,t){},431:function(e,t){},451:function(e,t){},453:function(e,t){},462:function(e,t){},464:function(e,t){},473:function(e,t){},474:function(e,t){},510:function(e,t,n){"use strict";n.r(t);n(1);var r=n(53),c=n.n(r),o=(n(303),n(304),n(270)),a=n(284),s=n(4);var i=function(){return Object(a.a)({palette:{mode:"dark"}}),Object(s.jsx)("div",{className:"App",children:Object(s.jsx)(o.a,{})})},u=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,570)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,o=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),o(e),a(e)}))},l=n(568);c.a.render(Object(s.jsx)(l.a,{injectFirst:!0,children:Object(s.jsx)(i,{})}),document.getElementById("root")),u()}},[[510,1,2]]]);
//# sourceMappingURL=main.657f4372.chunk.js.map